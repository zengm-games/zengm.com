<button class="border-0 py-1 h-100 w-100 d-flex align-items-center justify-content-center" id="theme-switch">
  <img src="/files/bootstrap-icons/moon-fill.svg" width="22" height="22" id="theme-switch-dark" alt="Switch to dark mode">
  <img src="/files/bootstrap-icons/sun-fill.svg" width="22" height="22" id="theme-switch-light" alt="Switch to light mode">
</button>

<script>
const themeSwitch = document.getElementById("theme-switch");
const darkIcon = document.getElementById("theme-switch-dark");
const lightIcon = document.getElementById("theme-switch-light");

function updateIcon(theme) {
  if (theme === "dark") {
    darkIcon.style.display = "none";
    lightIcon.style.display = "inline";
    themeSwitch.title = "Switch to light mode";
  } else {
    darkIcon.style.display = "inline";
    lightIcon.style.display = "none";
    themeSwitch.title = "Switch to dark mode";
  }
}

updateIcon(getTheme());

themeSwitch.addEventListener("click", function (event) {
  var newTheme = getTheme() === "light" ? "dark" : "light";

  setTheme(newTheme);
  updateIcon(newTheme);
  if (window.onNewTheme) {
    window.onNewTheme(newTheme);
  }
});
</script>
